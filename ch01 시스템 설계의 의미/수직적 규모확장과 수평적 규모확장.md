# 📌 규모를 확장해보자: 수직적 확장 vs 수평적 확장
<br>

서버의 규모를 확장해서 성능을 개선하는 방법은 두 가지가 있다.
    
수직적 규모 확장(scale up,vertical scaling)은 서버에 고사양 자원(CPU, 더 많은 RAM)을 추가해서 규모를 확장하는 것이다.
트래픽의 양이 적을 때는 수직적 확장이 좋은 선택이다.

하지만, 

- 한 대의 서버에 CPU 나 메모리를 무한대로 증설할 수 없기 떄문에 수직적 규모 확장에는 한계가 있다.
- scale up 방법은 장애에 대한 자동복구(failover)방안이나 다중화(redundancy)방안을 제시하지는 않기 때문에 서버 장애시 사이트가 완전 중단된다.

그래서 대규모 어플리케이션을 지원할때는 수평적 규모 확장법이 적절하다.

수평적 규모 확장(scale out)은 더 많은 서버를 추가해서 성능을 개선하는 것이다.
부하를 분산하기 위해서 부하분산 집합에 웹 서버를 추가하고 나면 장애를 자동 복구하지 못하는 문제(no failover)가 해소된다. 

<br>
</br>

## 📌로드밸런서

웹 서버와 사용자가 바로 연결되는 구조에서는 웹서버가 다운되면 사용자가 웹 사이트에 접속할 수 없다.
또 너무 많은 사용자가 웹서버에 접속하면 응답 속도가 느려지거나 접속이 어려워진다.
그래서 부하분산기나 로드밸런서가 필요하다.

로드밸런서를 사용해서 시스템을 설계하게 되면, 사용자가 서비스를 이용하기 위해 로드밸런서의 public IP address로 접속하게 된다.
그리고 로드밸런서가 트래픽을 서버에 분산해준다.

이 때, 하나의 웹 서버에 문제가 생겨도 다른 서버로 트래픽을 분산해주기 때문에 서비스 전체가 다운되는 것을 막아준다.

<br>

## 📌데이터베이스 다중화

주 데이터베이스(master)와 부 데이터베이스(slave)를 나누어 서버의 부하를 대처하기도 한다. 

insert, delete, update의 명령은 마스터에서만 가능하고, 부 데이터베이스에서는 그 사본을 저장하고 읽기 연산만 진행한다. 

이렇게 하면 읽기 연산이 부 데이터 베이스에서 동시에 진행되는 것도 가능하다.

즉, 병렬로 처리 될 수 있는 query의 수가 늘어나므로 성능을 개선할 수 있다.

또 데이터 베이스 서버의 일부가 물리적으로 훼손되어도 다른 장소에 안정적으로 데이터가 저장될 수 있다. 


<br>
<br>

## [요약]

- 서버 성능 개선을 위해 규모를 확장하는 것이 필요.
- 수직적 규모확장은 서버에 고사양 자원을 추가하는 것. no failover문제가 있음.
- 수평적 규모확장은 서버를 추가하는 것이고 하나의 웹서버가 문제가 생겨도 다른 서버로 트래픽을 전송하면 되므로 no failover가 해소됨.



